<html>
	<head>
        <title>The JavaScript Pizza Parlor</title>
        <style>
           
        </style>
			<script>
				function doClear()
				{
                    document.PizzaForm.customer.value = "";
                    document.PizzaForm.address.value = "";
                    document.PizzaForm.city.value = "";
                    document.PizzaForm.state.value = "";
                    document.PizzaForm.zip.value = "";
                    document.PizzaForm.phone.value = "";
                    document.PizzaForm.email.value = "";
					
                    document.PizzaForm.sizes[0].checked = false;
                    document.PizzaForm.sizes[1].checked = false;
                    document.PizzaForm.sizes[2].checked = false;
                    document.PizzaForm.sizes[3].checked = false;
			
                    document.PizzaForm.toppings[0].checked = false;
                    document.PizzaForm.toppings[1].checked = false;
                    document.PizzaForm.toppings[2].checked = false;
                    document.PizzaForm.toppings[3].checked = false;
                    document.PizzaForm.toppings[4].checked = false;
                    document.PizzaForm.toppings[5].checked = false;
                    document.PizzaForm.toppings[6].checked = false;
                    document.PizzaForm.toppings[7].checked = false;
					
					//TODO: clear the rest of the fields on the form
					
					
					
					return;
				}	
				
				function doSubmit()
				{
					if (validateText() && validateRadio() && validateCheck())
					{
						var confirmation = "";
						
		confirmation += "<h1><b>Your order has been submitted.</h1></b><br />";
        confirmation += "Name: " + document.PizzaForm.customer.value + "<br />";
        confirmation += "Address: " + document.PizzaForm.address.value + "<br />";
        confirmation += "City: " + document.PizzaForm.city.value + "<br />";
        confirmation += "State: " + document.PizzaForm.address.value + "<br />";
        confirmation += "Zip: " + document.PizzaForm.zip.value + "<br />";
        confirmation += "Phone: " + document.PizzaForm.phone.value + "<br />";
        confirmation += "Email: " + document.PizzaForm.email.value + "<br />";
                     
						//TODO: Concatenate the rest of the message in the text boxes
						
						
						
						var size = printRadio();
						
						confirmation += size;
						
						var toppings = printCheck();
						
						confirmation += toppings;
						
						document.write(confirmation);
					}
					return;
				}
								
				function validateText()
				{
					var transcribed = true;
					
					var notification = "";
					
					var customer = document.PizzaForm.customer.value;
					if (customer.length == 0) 
					{
                        
                        transcribed = false;
						notification += "Please enter your name.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }
                  
                    var transcribed = true;
					
					var notification = "";
					var address = document.PizzaForm.address.value;
					if (address.length == 0) 
					{

						transcribed = false;
						notification += "Please enter your address.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }

                    var transcribed = true;
					
					var notification = "";
					var city = document.PizzaForm.city.value;
					if (city.length == 0) 
					{

						transcribed = false;
						notification += "Please enter your city.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }

                    var transcribed = true;
					
					var notification = "";
					var state = document.PizzaForm.state.value;
					if (state.length == 0) 
					{

						transcribed = false;
						notification += "Please enter your state.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }
                  

                    var transcribed = true;
					
					var notification = "";
					var zip = document.PizzaForm.zip.value;
					if (zip.length == 0) 
					{

						transcribed = false;
						notification += "Please enter your zip.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }
                    var transcribed = true;
					
					var notification = "";
					var phone = document.PizzaForm.phone.value;
					if (phone.length == 0) 
					{

						transcribed = false;
						notification += "Please enter your phone.\n";
                    }
                    if (!transcribed)
					{
						alert(notification);
                    }

                    transcribed =true;
                    if (!/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(document.PizzaForm.phone.value)) {
                        
    alert("Incorrect Phone number.");
    
    document.PizzaForm.phone.value = "" ;
    transcribed = false;
    return ;}
   // document.PizzaForm.phone.focus();
  
 
              
         
      
        var email = document.PizzaForm.email.value;
        var lower_email = email.toLowerCase();
      
         
        var len = lower_email.length;

        var transcribed = true;

        var first_ind_a = lower_email.indexOf('@');
        var last_ind_a =lower_email.lastIndexOf('@');
        var last_ind_dot = lower_email.lastIndexOf('.');
       
        if(first_ind_a != last_ind_a)
        transcribed = false;
        else if(first_ind_a <= 0 || first_ind_a >= len)
        transcribed = false;
        else if(last_ind_dot <= 0 || last_ind_dot >= len)
        transcribed = false;
        else if(first_ind_a >= last_ind_dot - 1)
        transcribed = false;
       
     
        if(!transcribed){
        //alert('passed');
        //else
		alert('Invalid email');
		document.PizzaForm.email.value="" ;
        }
					return transcribed;
				}
				
				function validateRadio()
				{
					var highlighted = false; 
					
					if (document.PizzaForm.sizes[0].checked)
					{
						highlighted = true;
                    }
                    else if (document.PizzaForm.sizes[1].checked)
					{
						highlighted = true;
                    }
                    else if (document.PizzaForm.sizes[2].checked)
					{
						highlighted = true;
                    }
                    else if (document.PizzaForm.sizes[3].checked)
					{
						highlighted = true;
					}
					
					//TODO: check the rest of the radio buttons
					
					
					
					
					if (!highlighted)
					{
						alert("Please select a size.");
					}
					
					return highlighted;
				}
				
				function validateCheck()
				{
					var selected = false;	
					
					if (document.PizzaForm.toppings[0].checked) 
					{
						selected = true;
                    }
                    else if (document.PizzaForm.toppings[1].checked) 
					{
						selected = true;
                    }
                   else if (document.PizzaForm.toppings[2].checked) 
					{
						selected = true;
                    }
                   else if (document.PizzaForm.toppings[3].checked) 
					{
						selected = true;
                    }
                    else if (document.PizzaForm.toppings[4].checked) 
					{
						selected = true;
                    }
                    else if (document.PizzaForm.toppings[5].checked) 
					{
						selected = true;
					}
                    else if (document.PizzaForm.toppings[6].checked) 
					{
						selected = true;
                    }
                    else if (document.PizzaForm.toppings[7].checked) 
					{
						selected = true;
					}
					//TODO: check the rest of the check boxes
					
					
					
					if (!selected)
					{
						alert("Please choose at least one topping.");		
					}
					
					return selected;
				}
				
				function printRadio()
				{
					var size;
					
					if (document.PizzaForm.sizes[0].checked)
					{
						size = "Size: Small <br />";
                    }
                    
					else if (document.PizzaForm.sizes[1].checked)
					{
						size = "Size: Medium <br />";
                    }
                    
					else if (document.PizzaForm.sizes[2].checked)
					{
						size = "Size: Large <br />";
                    }
                    
					else if (document.PizzaForm.sizes[3].checked)
					{
						size = "Size: Jumbo <br />";
					}
					//TODO: get the right size 
									
					
					return size;
				}
				
				function printCheck()
				{
					var toppings = "Toppings: ";
					
					var choice1 = true;
					
					if (document.PizzaForm.toppings[0].checked)
					{
						toppings += "Pepperoni";
						choice1 = false;
                    }
                    
					if (document.PizzaForm.toppings[1].checked) 
					{
						if(choice1)
						{
							toppings += "Canadian Bacon";
							choice1 = false;
						}
						else
						{
                            toppings += ", Canadian Bacon";
                            choice1 = false;
                        }
                    }
                       if(document.PizzaForm.toppings[2].checked)
                       { if(choice1)
						{
							toppings += "Sausage";
							choice1 = false;
						}
						else
						{
                            toppings += ", Sausage";
                            choice1 = false;
                        }
                    }
                    if(document.PizzaForm.toppings[3].checked)
                       { if(choice1)
						{
							toppings += "Mushroom";
							choice1 = false;
						}
						else
						{
                            toppings += ", Mushroom";
                            choice1 = false;
                        }
                    }
                    if(document.PizzaForm.toppings[4].checked)
                       { if(choice1)
						{
							toppings += "Pineapple";
							choice1 = false;
						}
						else
						{
                            toppings += ", Pineapple";
                            choice1 = false;
                        }
                    }
                    if(document.PizzaForm.toppings[5].checked)
                       { if(choice1)
						{
							toppings += "Black Olives";
							choice1 = false;
						}
						else
						{
                            toppings += ", Black Olives";
                            choice1 = false;
                        }
                    }
                    if(document.PizzaForm.toppings[6].checked)
                       { if(choice1)
						{
							toppings += "Green Peppers";
							choice1 = false;
						}
						else
						{
                            toppings += ", Green Peppers";
                            choice1 = false;
                        }
                    }
                    if(document.PizzaForm.toppings[7].checked)
                       { if(choice1)
						{
							toppings += "Extra Cheese";
							choice1 = false;
						}
						else
						{
                            toppings += ", Extra Cheese";
                            choice1 = false;
                        }
                    }
                    
					//TODO: get all the toppings			
					
					
					return toppings;
				}
			</script>
</head>
<body>
<form name="PizzaForm">
<h1>The JavaScript Pizza Parlor</h1>
	<p>
<h4>Step 1: Enter your name, address, phone number, and email:</h4>
<font face="Courier New">
Name: &nbsp;&nbsp;&nbsp;<input name="customer" size="50" type="text" /><br />
Address: <input name="address" size="50" type="text" /><br />
City: &nbsp;&nbsp;&nbsp;<input name="city" size="15" type="text" />
State: <input name="state" size="2" type="TEXT" />
Zip: <input name="zip" size="5" type="text" /><br />
Phone: &nbsp;&nbsp;<input name="phone" size="50" type="text" /><br />
Email: &nbsp;&nbsp;<input  type="text" name="email" size="50"  /><br />
</font>
	</p>
		<p>
<h4>Step 2: Select the size of the pizza you want:</h4>
<font face="Courier New">
<input name="sizes" type="radio" />Small
<input name="sizes" type="radio" />Medium
<input name="sizes" type="radio" />Large
<input name="sizes" type="radio" />Jumbo
					
					
</font>
   </p>
	 <p>
<h4>Step 3: Select the pizza toppings you want:</h4>
<font face="Courier New">
<input name="toppings" type="checkbox" />Pepperoni
<input name="toppings" type="checkbox" />Canadian Bacon
<input name="toppings" type="checkbox" />Sausage<br />
<input name="toppings" type="checkbox" />Mushrooms
<input name="toppings" type="checkbox" />Pineapple
<input name="toppings" type="checkbox" />Black Olives<br />
<input name="toppings" type="checkbox" />Green Peppers
<input name="toppings" type="checkbox" />Extra Cheese
					
					
</font>
   </p>
<input type="button" value="Submit Order" onClick="doSubmit()" />
<input type="button" value="Clear Entries" onClick="doClear()" />	
</form>
	</body>
</html>